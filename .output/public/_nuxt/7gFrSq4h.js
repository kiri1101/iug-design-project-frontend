import{_ as k}from"./C7UZOFcm.js";import{_ as S,a as A}from"./B4aQBNUl.js";import{_ as B,u as C}from"./DTJgCTdj.js";import{_ as I}from"./Bc74I3q8.js";import L from"./d5APeyL3.js";import{_ as T,e as U,g as $,r,c as D,a as t,t as g,j as s,b as o,k as F,w as i,d as n,o as R,l as z,n as E}from"#entry";import{u as J}from"./C1qWLS7T.js";import"./CE0L2SVI.js";import"./CY-nOYLW.js";import"./BmrVIpcX.js";import"./Bra-tsU3.js";import"./DyWaDKSL.js";import"./Og8KnRTi.js";import"./PZqouyIw.js";import"./DBCFK9xT.js";import"./B-uJQ5l5.js";import"./BeSnMvgh.js";const M=""+new URL("signin.CrmIRP7C.svg",import.meta.url).href,O={class:"grid h-full md:grid-cols-2 bg-signup-mobile-logo md:bg-none","aria-label":"Landing page"},Y={class:"flex-col hidden px-2 text-white md:flex bg-emerald-600"},Z={class:"flex justify-between py-1 text-sm"},q={class:"flex items-center bg-signup-mobile-shape","aria-label":"signin form lane"},G={class:"w-full max-w-md pb-4 mx-auto shadow rounded-xl bg-white/90 md:py-0 md:shadow-none md:bg-inherit shadow-gray-700"},H={class:"grid items-end justify-center h-20 md:h-36"},K={class:"space-y-5"},Q={class:"space-y-5 text-sm text-gray-600"},W={class:"text-center"},X={class:"mr-1.5"},ee={class:"space-y-3"},te={class:"text-center"},se={__name:"index",setup(oe){const d=z(),{$apiFetch:y}=U(),w=$(),{z:m}=C(),{e:x,s:h}=J(),a=r({pseudo:"",secret:""}),b=r({pseudo:!1,secret:!1});r([]);const p=r(!1),j=new Date().getFullYear(),V=async()=>{const u=m.object({pseudo:m.email(),secret:m.string().min(6,"Password must be at least 6 characters long")}).safeParse(a.value);if(u.success){p.value=!0;try{const e=await y(d.public.auth.login,{method:"POST",body:a.value});console.log("login response: ",e),w.updateAuth(e.data),h(e.message),E("/dashboard")}catch({status:e,data:l}){switch(console.log("login error: ",e,l),e){case 422:Object.values(l.errors).map(c=>x(c[0]));break}}finally{p.value=!1}}else u.error.issues.map(e=>x(e.message))};return(u,e)=>{const l=k,c=A,v=L,P=B,f=I,N=S;return R(),D("main",O,[t("section",Y,[e[3]||(e[3]=t("div",{class:"flex flex-col items-center justify-center space-y-5 grow"},[t("p",{class:"px-4 text-3xl font-semibold text-center lg:text-4xl"}," Join us and supercharge the next generation of software "),t("img",{src:M,class:"object-contain object-center size-96",alt:"Marum signup illustration"})],-1)),t("p",Z,[t("span",null,"Â© "+g(s(j))+" "+g(s(d).public.appName),1),e[2]||(e[2]=t("span",null,"All rights reserved",-1))])]),t("section",q,[t("div",G,[t("div",H,[o(l,{width:"w-10 md:w-12",height:"h-24 md:h-28"})]),t("form",{onSubmit:F(V,["prevent"]),class:"px-3 mt-7 space-y-7"},[e[13]||(e[13]=t("p",{class:"text-xl font-semibold text-center text-gray-600 md:text-2xl"}," Sign In ",-1)),t("div",K,[o(v,{variant:"on"},{default:i(()=>[o(c,{id:"email",modelValue:s(a).pseudo,"onUpdate:modelValue":e[0]||(e[0]=_=>s(a).pseudo=_),autocomplete:"off",invalid:s(b).fname},null,8,["modelValue","invalid"]),e[4]||(e[4]=t("label",{for:"phone"}," Email address ",-1))]),_:1}),o(v,{variant:"on"},{default:i(()=>[o(P,{id:"password",modelValue:s(a).secret,"onUpdate:modelValue":e[1]||(e[1]=_=>s(a).secret=_),feedback:!1,invalid:s(b).secret,fluid:""},null,8,["modelValue","invalid"]),e[5]||(e[5]=t("label",{for:"password"}," Password ",-1))]),_:1})]),t("div",Q,[t("p",W,[e[8]||(e[8]=n(" By continuing, you agree to ",-1)),t("span",X,g(s(d).public.appName),1),o(f,{to:"#",class:"font-semibold hover:underline"},{default:i(()=>[...e[6]||(e[6]=[n("Terms of Use",-1)])]),_:1}),e[9]||(e[9]=n(" and ",-1)),o(f,{to:"#",class:"font-semibold hover:underline"},{default:i(()=>[...e[7]||(e[7]=[n("Privacy Policy",-1)])]),_:1}),e[10]||(e[10]=n(". ",-1))]),t("div",ee,[t("p",te,[e[12]||(e[12]=n(" Do not have an account? ",-1)),o(f,{to:"/signup",class:"text-emerald-500 hover:underline hover:font-semibold"},{default:i(()=>[...e[11]||(e[11]=[n("join us",-1)])]),_:1})]),o(N,{type:"submit",label:"Join now",iconPos:"right",loading:s(p)},null,8,["loading"])])])],32)])])])}}},we=T(se,[["__scopeId","data-v-4c0a3147"]]);export{we as default};
