import{_ as F}from"./mwa0KIYm.js";import{_ as J}from"./BGqQZR8k.js";import{r as m,n as x,e as M,u as W,K as q,k as E,c as l,o as n,a as e,b as o,w as i,g as c,d,t as _,f as a,q as k,F as K,ah as O,m as G,l as Q,T as X,s as v,N as Y,ae as Z,h as ee}from"#entry";import te from"./C8h7dsK7.js";import se from"./87tUpS5O.js";import re from"./CPGOxVHc.js";import{u as oe}from"./aGpNMAtt.js";import{u as ie}from"./CFrJbO24.js";import"./J40zrwK1.js";import"./CGmKtbvG.js";import"./BgcSbsA3.js";import"./pWF3utpX.js";import"./Ce6Emhl2.js";import"./CA4OP84X.js";import"./C69VbVQL.js";const ae=()=>({navItems:m([{label:"Dashboard",icon:"pi pi-chart-line",command:()=>x("/dashboard")},{label:"Users",icon:"pi pi-users",command:()=>x("/users/list")},{label:"Leave",icon:"pi pi-telegram",command:()=>x("/leaves/list")},{label:"Sanction",icon:"pi pi-ban",command:()=>{}},{label:"Internship",icon:"pi pi-graduation-cap",command:()=>{}},{label:"Bill",icon:"pi pi-receipt",command:()=>{}},{label:"Warehouse",icon:"pi pi-warehouse",command:()=>{}},{label:"Job",icon:"pi pi-briefcase",command:()=>{}},{label:"Reservation",icon:"pi pi-save",command:()=>{}},{label:"Delivery",icon:"pi pi-box",command:()=>{}},{label:"Career",icon:"pi pi-chart-line",command:()=>{}}])}),le={class:"flex flex-col w-full font-mono antialiased h-dvh bg-white"},ne={class:"flex flex-row items-center justify-between px-3 py-1 border-b border-gray-300","aria-label":"Navigation bar"},ce={class:"flex flex-row items-center space-x-2"},ue={class:"text-sm"},pe={class:"w-52"},de={class:"space-y-1"},me={class:"p-2 border-b border-gray-300 capitalize"},he={key:0,class:"pi pi-spinner animate-spin",style:{"font-size":"0.9rem"}},be={class:"font-mono space-y-5"},fe={class:"flex flex-row justify-between items-center border-b border-gray-300 p-3"},ge=["onClick"],ve={class:"p-3 h-[calc(100dvh-5.5rem)] overflow-y-auto"},xe={class:"space-y-3"},ye={class:"flex flex-row h-full"},_e={class:"block md:hidden"},we=["onClick"],ke={class:"relative"},Ce=["onClick"],Ne={class:"absolute top-1.5 right-8 bg-white border border-gray-500 rounded-xs px-1 text-xs shadow"},Se={class:"flex-col hidden w-48 p-2 border-r border-gray-300 divide-y divide-gray-300 md:flex"},$e={class:"mt-5 space-y-2 grow"},Re={key:0},ze={class:"p-2 grow bg-slate-100 h-[calc(100dvh-3.05rem)] overflow-y-auto"},qe={__name:"master",setup(C){const N=ee(),u=M(),S=oe(),{$apiFetch:$}=W(),{navItems:R}=ae(),{s:z}=ie(),y=m(!1),D=u.authUser,w=m(),h=m(!1),b=m(!1);q(()=>{u.resetAuth()});const U=E(()=>{let s;if(u.isAuth){let t=u.authUser.user.role;s=t.find(p=>p.slug==="ceo")!==void 0||t.find(p=>p.slug==="dhr")!==void 0}else s=!1;return s}),j=()=>b.value=!0,P=s=>w.value.toggle(s),A=()=>h.value=!0,B=()=>h.value=!1,I=async()=>{y.value=!0;try{const s=await $(N.public.auth.logout,{method:"POST"});console.log("logout response: ",s),z(s.message)}catch({status:s,data:t}){console.log("error code during logout: ",t)}finally{return y.value=!1,u.resetAuth(),x("/")}};return(s,t)=>{const p=F,f=J,L=re,T=se,V=te,H=X;return n(),l("main",le,[e("nav",ne,[o(f,{to:"/",class:"inline-flex"},{default:i(()=>[o(p,{width:"w-5",height:"h-10"})]),_:1}),e("div",ce,[e("div",{class:"relative cursor-pointer hover:scale-110 transition duration-200 ease-linear",onClick:c(j,["prevent"])},[...t[1]||(t[1]=[e("i",{class:"pi pi-bell"},null,-1),e("span",{class:"absolute top-0 right-0 flex size-2"},[e("span",{class:"absolute inline-flex h-full w-full animate-ping rounded-full bg-orange-400 opacity-75"}),e("span",{class:"relative inline-flex size-2 rounded-full bg-orange-500"})],-1)])]),e("ul",null,[e("li",ue,[e("img",{src:"https://picsum.photos/id/237/200/300",class:"object-cover object-center rounded-full cursor-pointer size-7",onClick:c(P,["prevent"]),alt:"Profile picture"}),o(L,{ref_key:"menu",ref:w},{default:i(()=>[e("div",pe,[e("ul",de,[e("li",me,[t[2]||(t[2]=e("i",{class:"mr-1 pi pi-user"},null,-1)),d(" "+_(a(D)?.user.fullName),1)]),e("li",{class:"flex items-center justify-between p-2 text-gray-900 transition duration-150 ease-linear rounded cursor-pointer hover:bg-emerald-400 hover:text-gray-100",onClick:c(I,["prevent"])},[t[3]||(t[3]=e("span",null,[e("i",{class:"mr-1 pi pi-sign-out"}),d(" Logout ")],-1)),a(y)?(n(),l("i",he)):k("",!0)])])])]),_:1},512)])])])]),o(T,{visible:a(b),"onUpdate:visible":t[0]||(t[0]=r=>G(b)?b.value=r:null),header:"Drawer"},{container:i(({closeCallback:r})=>[e("div",be,[e("div",fe,[t[4]||(t[4]=e("h2",{class:"text-2xl font-bold"},"Notifications",-1)),e("i",{class:"pi pi-times cursor-pointer hover:bg-gray-900 hover:text-white p-1 rounded transition duration-200 ease-linear",style:{"font-size":"0.8rem"},onClick:c(r,["prevent"])},null,8,ge)]),e("div",ve,[e("ul",xe,[(n(!0),l(K,null,O(a(S).list,g=>(n(),l("li",{key:g.id,class:"text-xs bg-gray-700 text-gray-100 p-2 rounded"},_(g.content),1))),128))])])])]),_:1},8,["visible"]),e("section",ye,[e("span",_e,[o(V,{model:a(R),direction:"down",style:{position:"absolute",right:0,top:0,transform:"translate(-4.5rem, 0.7rem)","z-index":50},buttonProps:{severity:"contrast",rounded:!0},pt:{root:["",{"h-auto":a(h)},{"h-8":!a(h)}]},onClick:c(A,["prevent"]),onHide:B},{button:i(({toggleCallback:r})=>[e("button",{type:"button",class:"flex items-center justify-center py-[0.4rem] px-[0.5rem] text-gray-900 border border-gray-500 hover:bg-gray-900 hover:text-gray-100 rounded-sm cursor-pointer transition duration-200 ease-linear",onClick:c(r,["prevent"])},[...t[5]||(t[5]=[e("i",{class:"pi pi-align-left",style:{"font-size":"0.8rem"}},null,-1)])],8,we)]),item:i(({item:r,toggleCallback:g})=>[e("div",ke,[Q((n(),l("button",{type:"button",class:"flex items-center justify-center p-[0.45rem] bg-white text-gray-900 border border-gray-500 hover:bg-gray-900 hover:text-gray-100 rounded-full cursor-pointer transition duration-200 ease-linear shadow",onClick:g},[e("i",{class:v(r.icon),style:{"font-size":"0.8rem"}},null,2)],8,Ce)),[[H,`${r.label}`]]),e("span",Ne,_(r.label),1)])]),_:1},8,["model","pt"])]),e("aside",Se,[e("ul",$e,[e("li",null,[o(f,{to:"/dashboard",class:v(["flex items-center cursor-pointer px-2 py-1.5 rounded text-base",{"bg-emerald-500 text-white":s.$router.currentRoute.value.name==="dashboard"},{"hover:bg-emerald-500 hover:text-gray-100":s.$router.currentRoute.value.name!=="dashboard"}])},{default:i(()=>[...t[6]||(t[6]=[e("i",{class:"mr-1.5 pi pi-chart-line"},null,-1),d(" Dashboard ",-1)])]),_:1},8,["class"])]),a(U)?(n(),l("li",Re,[o(f,{to:"/users/list",class:v(["flex items-center cursor-pointer px-2 text-base py-1.5 rounded ",{"bg-emerald-500 text-white":s.$router.currentRoute.value.name==="users-list"},{"hover:bg-emerald-500 hover:text-gray-100":s.$router.currentRoute.value.name!=="users-list"}])},{default:i(()=>[...t[7]||(t[7]=[e("i",{class:"pi pi-users mr-1.5"},null,-1),d(" Users ",-1)])]),_:1},8,["class"])])):k("",!0),e("li",null,[o(f,{to:"/leaves/list",class:v(["flex items-center cursor-pointer px-2 text-base py-1.5 rounded ",{"bg-emerald-500 text-white":s.$router.currentRoute.value.name==="leaves-list"},{"hover:bg-emerald-500 hover:text-gray-100":s.$router.currentRoute.value.name!=="leaves-list"}])},{default:i(()=>[...t[8]||(t[8]=[e("i",{class:"pi pi-telegram mr-1.5"},null,-1),d(" Leave ",-1)])]),_:1},8,["class"])]),t[9]||(t[9]=Y('<li class="flex items-center cursor-pointer hover:bg-emerald-500 px-2 text-base py-1.5 rounded hover:text-gray-100"><i class="pi pi-ban mr-1.5"></i> Sanction </li><li class="flex items-center cursor-pointer hover:bg-emerald-500 px-2 text-base py-1.5 rounded hover:text-gray-100"><i class="pi pi-graduation-cap mr-1.5"></i> Internship </li><li class="flex items-center cursor-pointer hover:bg-emerald-500 px-2 text-base py-1.5 rounded hover:text-gray-100"><i class="pi pi-receipt mr-1.5"></i> Bill </li><li class="flex items-center cursor-pointer hover:bg-emerald-500 px-2 text-base py-1.5 rounded hover:text-gray-100"><i class="pi pi-warehouse mr-1.5"></i> Warehouse </li><li class="flex items-center cursor-pointer hover:bg-emerald-500 px-2 text-base py-1.5 rounded hover:text-gray-100"><i class="pi pi-briefcase mr-1.5"></i> Job </li><li class="flex items-center cursor-pointer hover:bg-emerald-500 px-2 text-base py-1.5 rounded hover:text-gray-100"><i class="pi pi-save mr-1.5"></i> Reservation </li><li class="flex items-center cursor-pointer hover:bg-emerald-500 px-2 text-base py-1.5 rounded hover:text-gray-100"><i class="pi pi-box mr-1.5"></i> Delivery </li><li class="flex items-center cursor-pointer hover:bg-emerald-500 px-2 text-base py-1.5 rounded hover:text-gray-100"><i class="pi pi-chart-line mr-1.5"></i> Career </li>',8))]),t[10]||(t[10]=e("h1",{class:"mt-3 text-sm text-gray-500"},"v1.0.9.5",-1))]),e("div",ze,[Z(s.$slots,"default")])])])}}};export{qe as default};
