import{_ as T}from"./C7UZOFcm.js";import{_ as V}from"./DT7kFFrP.js";import{r as h,n as f,e as H,u as L,bF as P,k as F,c as d,o as m,a as e,b as s,w as o,g as b,d as n,t as J,f as i,s as y,l as M,T as W,q as g,bG as q,Z as E,h as G}from"#entry";import O from"./C7GiA7LN.js";import Z from"./Dh8qiUXc.js";import{u as K}from"./CZP_dV7Z.js";import"./B6_mwsIV.js";import"./Br_va_iO.js";import"./CiUYImg-.js";import"./DU9eW80r.js";import"./COxwCSAn.js";import"./CR3pEzlc.js";const Q=()=>({navItems:h([{label:"Dashboard",icon:"pi pi-chart-line",command:()=>f("/dashboard")},{label:"Users",icon:"pi pi-users",command:()=>f("/users/list")},{label:"Leave",icon:"pi pi-telegram",command:()=>f("/leaves/list")},{label:"Sanction",icon:"pi pi-ban",command:()=>{}},{label:"Internship",icon:"pi pi-graduation-cap",command:()=>{}},{label:"Bill",icon:"pi pi-receipt",command:()=>{}},{label:"Warehouse",icon:"pi pi-warehouse",command:()=>{}},{label:"Job",icon:"pi pi-briefcase",command:()=>{}},{label:"Reservation",icon:"pi pi-save",command:()=>{}},{label:"Delivery",icon:"pi pi-box",command:()=>{}},{label:"Career",icon:"pi pi-chart-line",command:()=>{}}])}),X={class:"flex flex-col w-full font-mono antialiased h-dvh bg-white"},Y={class:"flex flex-row items-center justify-between px-3 py-1 border-b border-gray-300","aria-label":"Navigation bar"},ee={class:"text-sm"},te={class:"w-52"},re={class:"space-y-1"},se={class:"p-2 border-b border-gray-300 capitalize"},oe={key:0,class:"pi pi-spinner animate-spin",style:{"font-size":"0.9rem"}},ie={class:"flex flex-row h-full"},ae={class:"block md:hidden"},le=["onClick"],ne=["onClick"],ce={class:"flex-col hidden w-48 p-2 border-r border-gray-300 divide-y divide-gray-300 md:flex"},ue={class:"mt-5 space-y-2 grow"},pe={key:0},de={class:"p-2 grow bg-slate-100"},$e={__name:"master",setup(_){const w=G(),a=H(),{$apiFetch:k}=L(),{navItems:C}=Q(),{s:$}=K(),v=h(!1),N=a.authUser,x=h(),c=h(!1);P(()=>a.resetAuth());const R=F(()=>{let r;if(a.isAuth){let t=a.authUser.user.role;r=t.find(l=>l.slug==="ceo")!==void 0||t.find(l=>l.slug==="dhr")!==void 0}else r=!1;return r}),S=r=>x.value.toggle(r),U=()=>c.value=!0,z=()=>c.value=!1,D=async()=>{v.value=!0;try{const r=await k(w.public.auth.logout,{method:"POST"});console.log("logout response: ",r),$(r.message)}catch({status:r,data:t}){console.log("error code during logout: ",t)}finally{return v.value=!1,a.resetAuth(),f("/")}};return(r,t)=>{const l=T,u=V,j=Z,A=O,B=W;return m(),d("main",X,[e("nav",Y,[s(u,{to:"/",class:"inline-flex"},{default:o(()=>[s(l,{width:"w-5",height:"h-10"})]),_:1}),e("ul",null,[e("li",ee,[e("img",{src:"https://picsum.photos/id/237/200/300",class:"object-cover object-center rounded-full cursor-pointer size-7",onClick:b(S,["prevent"]),alt:"Profile picture"}),s(j,{ref_key:"menu",ref:x},{default:o(()=>[e("div",te,[e("ul",re,[e("li",se,[t[0]||(t[0]=e("i",{class:"mr-1 pi pi-user"},null,-1)),n(" "+J(i(N)?.user.fullName),1)]),e("li",{class:"flex items-center justify-between p-2 text-gray-900 transition duration-150 ease-linear rounded cursor-pointer hover:bg-emerald-400 hover:text-gray-100",onClick:b(D,["prevent"])},[t[1]||(t[1]=e("span",null,[e("i",{class:"mr-1 pi pi-sign-out"}),n(" Logout ")],-1)),i(v)?(m(),d("i",oe)):y("",!0)])])])]),_:1},512)])])]),e("section",ie,[e("span",ae,[s(A,{model:i(C),direction:"down",style:{position:"absolute",right:0,top:0,transform:"translate(-3rem, 0.6rem)","z-index":50},buttonProps:{severity:"contrast",rounded:!0},pt:{root:["",{"h-auto":i(c)},{"h-8":!i(c)}]},onClick:b(U,["prevent"]),onHide:z},{button:o(({toggleCallback:p})=>[e("button",{type:"button",class:"flex items-center justify-center p-[0.45rem] text-gray-900 border border-gray-500 hover:bg-gray-900 hover:text-gray-100 rounded-sm cursor-pointer transition duration-200 ease-linear",onClick:b(p,["prevent"])},[...t[2]||(t[2]=[e("i",{class:"pi pi-align-left",style:{"font-size":"0.8rem"}},null,-1)])],8,le)]),item:o(({item:p,toggleCallback:I})=>[M((m(),d("button",{type:"button",class:"flex items-center justify-center p-[0.45rem] text-gray-900 border border-gray-500 hover:bg-gray-900 hover:text-gray-100 rounded-full cursor-pointer transition duration-200 ease-linear shadow",onClick:I},[e("i",{class:g(p.icon),style:{"font-size":"0.8rem"}},null,2)],8,ne)),[[B,`${p.label}`]])]),_:1},8,["model","pt"])]),e("aside",ce,[e("ul",ue,[e("li",null,[s(u,{to:"/dashboard",class:g(["flex items-center cursor-pointer px-2 py-1.5 rounded text-base",{"bg-emerald-500 text-white":r.$router.currentRoute.value.name==="dashboard"},{"hover:bg-emerald-500 hover:text-gray-100":r.$router.currentRoute.value.name!=="dashboard"}])},{default:o(()=>[...t[3]||(t[3]=[e("i",{class:"mr-1.5 pi pi-chart-line"},null,-1),n(" Dashboard ",-1)])]),_:1},8,["class"])]),i(R)?(m(),d("li",pe,[s(u,{to:"/users/list",class:g(["flex items-center cursor-pointer px-2 text-base py-1.5 rounded ",{"bg-emerald-500 text-white":r.$router.currentRoute.value.name==="users-list"},{"hover:bg-emerald-500 hover:text-gray-100":r.$router.currentRoute.value.name!=="users-list"}])},{default:o(()=>[...t[4]||(t[4]=[e("i",{class:"pi pi-users mr-1.5"},null,-1),n(" Users ",-1)])]),_:1},8,["class"])])):y("",!0),e("li",null,[s(u,{to:"/leaves/list",class:g(["flex items-center cursor-pointer px-2 text-base py-1.5 rounded ",{"bg-emerald-500 text-white":r.$router.currentRoute.value.name==="leaves-list"},{"hover:bg-emerald-500 hover:text-gray-100":r.$router.currentRoute.value.name!=="leaves-list"}])},{default:o(()=>[...t[5]||(t[5]=[e("i",{class:"pi pi-telegram mr-1.5"},null,-1),n(" Leave ",-1)])]),_:1},8,["class"])]),t[6]||(t[6]=q('<li class="flex items-center cursor-pointer hover:bg-emerald-500 px-2 text-base py-1.5 rounded hover:text-gray-100"><i class="pi pi-ban mr-1.5"></i> Sanction </li><li class="flex items-center cursor-pointer hover:bg-emerald-500 px-2 text-base py-1.5 rounded hover:text-gray-100"><i class="pi pi-graduation-cap mr-1.5"></i> Internship </li><li class="flex items-center cursor-pointer hover:bg-emerald-500 px-2 text-base py-1.5 rounded hover:text-gray-100"><i class="pi pi-receipt mr-1.5"></i> Bill </li><li class="flex items-center cursor-pointer hover:bg-emerald-500 px-2 text-base py-1.5 rounded hover:text-gray-100"><i class="pi pi-warehouse mr-1.5"></i> Warehouse </li><li class="flex items-center cursor-pointer hover:bg-emerald-500 px-2 text-base py-1.5 rounded hover:text-gray-100"><i class="pi pi-briefcase mr-1.5"></i> Job </li><li class="flex items-center cursor-pointer hover:bg-emerald-500 px-2 text-base py-1.5 rounded hover:text-gray-100"><i class="pi pi-save mr-1.5"></i> Reservation </li><li class="flex items-center cursor-pointer hover:bg-emerald-500 px-2 text-base py-1.5 rounded hover:text-gray-100"><i class="pi pi-box mr-1.5"></i> Delivery </li><li class="flex items-center cursor-pointer hover:bg-emerald-500 px-2 text-base py-1.5 rounded hover:text-gray-100"><i class="pi pi-chart-line mr-1.5"></i> Career </li>',8))]),t[7]||(t[7]=e("h1",{class:"mt-3 text-sm text-gray-500"},"v1.0.9.5",-1))]),e("div",de,[E(r.$slots,"default")])])])}}};export{$e as default};
