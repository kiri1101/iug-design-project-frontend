import{_ as k}from"./C7UZOFcm.js";import{_ as P,a as I}from"./B4aQBNUl.js";import{_ as U}from"./CjD-GriD.js";import{_ as S,u as B}from"./DTJgCTdj.js";import{_ as L}from"./Bc74I3q8.js";import $ from"./d5APeyL3.js";import{_ as F,e as C,g as O,r as _,c as T,a as t,t as b,j as s,b as o,k as z,w as l,d as v,o as D,l as E,n as M}from"#entry";import{u as R}from"./C1qWLS7T.js";import"./CE0L2SVI.js";import"./CY-nOYLW.js";import"./BmrVIpcX.js";import"./Bra-tsU3.js";import"./DyWaDKSL.js";import"./Og8KnRTi.js";import"./ODI3gou8.js";import"./PZqouyIw.js";import"./DBCFK9xT.js";import"./B-uJQ5l5.js";import"./BeSnMvgh.js";const J=""+new URL("signup.BNuPOivd.svg",import.meta.url).href,Y={class:"grid h-full md:grid-cols-2 bg-signup-mobile-logo md:bg-none","aria-label":"Landing page"},Z={class:"flex-col hidden px-2 text-white md:flex bg-emerald-600"},q={class:"flex justify-between py-1 text-sm"},G={class:"flex items-center bg-signup-mobile-shape","aria-label":"signin form lane"},H={class:"w-full max-w-md pb-4 mx-auto shadow rounded-xl bg-white/90 md:py-0 md:shadow-none md:bg-inherit shadow-gray-700"},K={class:"grid items-end justify-center h-20 md:h-36"},Q={class:"space-y-5"},W={class:"space-y-5 text-sm text-gray-600"},X={class:"space-y-3"},ee={class:"text-center"},te={__name:"signup",setup(se){const f=E(),{$apiFetch:x}=C(),w=O(),{z:u}=B(),{e:c,s:y}=R(),a=_({firstName:"",lastName:"",mailingAddress:"",phoneNumber:"",secret:"",secret_confirmation:""}),p=_(!1),N=new Date().getFullYear(),V=async()=>{const i=u.object({pseudo:u.email(),secret:u.string().min(6,"Password must be at least 6 characters long")}).safeParse(a.value);if(i.success){p.value=!0;try{const e=await x(f.public.auth.register,{method:"POST",body:a.value});console.log("register response: ",e),w.updateAuth(e.data),y(e.message),M("/dashboard")}catch({status:e,data:d}){switch(console.log("login error: ",e,d),e){case 422:Object.values(d.errors).map(m=>c(m[0]));break}}finally{p.value=!1}}else i.error.issues.map(e=>c(e.message))};return(i,e)=>{const d=k,m=I,r=$,h=U,g=S,A=L,j=P;return D(),T("main",Y,[t("section",Z,[e[7]||(e[7]=t("div",{class:"flex flex-col items-center justify-center space-y-5 grow"},[t("p",{class:"px-4 text-3xl font-semibold text-center lg:text-4xl"}," Begin your journey with some great teams "),t("img",{src:J,class:"object-contain object-center size-96",alt:"Marum signup illustration"})],-1)),t("p",q,[t("span",null,"Â© "+b(s(N))+" "+b(s(f).public.appName),1),e[6]||(e[6]=t("span",null,"All rights reserved",-1))])]),t("section",G,[t("div",H,[t("div",K,[o(d,{width:"w-10 md:w-12",height:"h-24 md:h-28"})]),t("form",{onSubmit:z(V,["prevent"]),class:"px-3 mt-7 space-y-7"},[e[16]||(e[16]=t("p",{class:"text-xl font-semibold text-center text-gray-600 md:text-2xl"}," Sign In ",-1)),t("div",Q,[o(r,{variant:"on"},{default:l(()=>[o(m,{id:"firstName",modelValue:s(a).firstName,"onUpdate:modelValue":e[0]||(e[0]=n=>s(a).firstName=n),autocomplete:"off"},null,8,["modelValue"]),e[8]||(e[8]=t("label",{for:"firstName"}," First Name ",-1))]),_:1}),o(r,{variant:"on"},{default:l(()=>[o(m,{id:"lastName",modelValue:s(a).lastName,"onUpdate:modelValue":e[1]||(e[1]=n=>s(a).lastName=n),autocomplete:"off",invalid:i.invalidInput.lastName},null,8,["modelValue","invalid"]),e[9]||(e[9]=t("label",{for:"lastName"}," Last Name ",-1))]),_:1}),o(r,{variant:"on"},{default:l(()=>[o(m,{id:"mailingAddress",modelValue:s(a).mailingAddress,"onUpdate:modelValue":e[2]||(e[2]=n=>s(a).mailingAddress=n),type:"email",autocomplete:"off",invalid:i.invalidInput.mailingAddress},null,8,["modelValue","invalid"]),e[10]||(e[10]=t("label",{for:"mailingAddress"}," Email Address ",-1))]),_:1}),o(r,{variant:"on"},{default:l(()=>[o(h,{id:"phoneNumber",modelValue:s(a).phoneNumber,"onUpdate:modelValue":e[3]||(e[3]=n=>s(a).phoneNumber=n),invalid:i.invalidInput.phoneNumber},null,8,["modelValue","invalid"]),e[11]||(e[11]=t("label",{for:"phoneNumber"}," Phone Number ",-1))]),_:1}),o(r,{variant:"on"},{default:l(()=>[o(g,{id:"password",modelValue:s(a).secret,"onUpdate:modelValue":e[4]||(e[4]=n=>s(a).secret=n),feedback:!1,invalid:i.invalidInput.secret,fluid:""},null,8,["modelValue","invalid"]),e[12]||(e[12]=t("label",{for:"password"}," Password ",-1))]),_:1}),o(r,{variant:"on"},{default:l(()=>[o(g,{id:"password_confirmation",modelValue:s(a).secret_confirmation,"onUpdate:modelValue":e[5]||(e[5]=n=>s(a).secret_confirmation=n),feedback:!1,invalid:i.invalidInput.secret_confirmation,fluid:""},null,8,["modelValue","invalid"]),e[13]||(e[13]=t("label",{for:"password_confirmation"}," Password Confirmation ",-1))]),_:1})]),t("div",W,[t("div",X,[t("p",ee,[e[15]||(e[15]=v(" Already have an account? ",-1)),o(A,{to:"/",class:"text-emerald-500 hover:underline hover:font-semibold"},{default:l(()=>[...e[14]||(e[14]=[v("sign in",-1)])]),_:1})]),o(j,{type:"submit",label:"Join now",iconPos:"right",loading:s(p)},null,8,["loading"])])])],32)])])])}}},Ne=F(te,[["__scopeId","data-v-d2727363"]]);export{Ne as default};
