import { _ as __nuxt_component_0, a as __nuxt_component_1, b as __nuxt_component_2 } from './Select-24dccZbB.mjs';
import script$4 from './index-CAz1XFQb.mjs';
import { ref, computed, mergeProps, unref, withCtx, createTextVNode, toDisplayString, createVNode, withDirectives, createCommentVNode, createBlock, openBlock, withModifiers, isRef, useSSRContext } from 'vue';
import { ssrRenderAttrs, ssrRenderStyle, ssrRenderComponent, ssrInterpolate, ssrRenderClass, ssrGetDirectiveProps } from 'vue/server-renderer';
import { u as useNuxtApp, a as useAuthStore, T as Tooltip, b as useRuntimeConfig, _ as _export_sfc } from './server.mjs';
import script$5 from './index-CH97wfVa.mjs';
import { _ as _sfc_main$3 } from './PrimaryButton-CHUgGgKs.mjs';
import script$3 from './index-B6qc2dch.mjs';
import script$2 from './index-BwU4rB8T.mjs';
import script$1 from './index-CeTeY4Wv.mjs';
import script from './index-B0lDY5pa.mjs';
import moment from 'moment';
import { u as useHead } from './composables-CxMplEF0.mjs';
import { u as useNotify } from './notify-CjQ8ixde.mjs';
import './index-DORBdgI_.mjs';
import '@primeuix/utils';
import '@primeuix/utils/object';
import './index-BUYaRu2x.mjs';
import './index-B4FWBZFG.mjs';
import '@primeuix/styles/badge';
import '@primeuix/styles/button';
import './index-BCPmBGb8.mjs';
import './index-jq0ufIoD.mjs';
import '@primeuix/styles/breadcrumb';
import './index-C0HLAz0b.mjs';
import '@primeuix/utils/dom';
import '@primeuix/utils/zindex';
import './index-CNF5sWiR.mjs';
import './index-BUtYn9Wk.mjs';
import './index-Cry0cSHd.mjs';
import './index-DKQ5rRsm.mjs';
import '@primeuix/styles/iconfield';
import './index-CN1PH7hu.mjs';
import './index-VaIectPZ.mjs';
import './index-NjkHSwuZ.mjs';
import './index-2DvTZN4Q.mjs';
import '@primeuix/styles/inputtext';
import './index-rAVNvoJo.mjs';
import '@primeuix/utils/eventbus';
import './index-CRrRLeDr.mjs';
import '@primeuix/styles/virtualscroller';
import '@primeuix/styles/select';
import '@primeuix/styles/textarea';
import '../_/nitro.mjs';
import 'node:http';
import 'node:https';
import 'node:events';
import 'node:buffer';
import '@primevue/core/base/style';
import '@primevue/core/basecomponent/style';
import '@primeuix/styles/autocomplete';
import '@primeuix/styles/cascadeselect';
import '@primeuix/styles/checkbox';
import '@primeuix/styles/checkboxgroup';
import '@primeuix/styles/colorpicker';
import '@primeuix/styles/datepicker';
import '@primeuix/styles/floatlabel';
import '@primeuix/styles/iftalabel';
import '@primeuix/styles/inputchips';
import '@primeuix/styles/inputgroup';
import '@primeuix/styles/inputnumber';
import '@primeuix/styles/inputotp';
import '@primeuix/styles/knob';
import '@primeuix/styles/listbox';
import '@primeuix/styles/multiselect';
import '@primeuix/styles/password';
import '@primeuix/styles/radiobutton';
import '@primeuix/styles/radiobuttongroup';
import '@primeuix/styles/rating';
import '@primeuix/styles/selectbutton';
import '@primeuix/styles/slider';
import '@primeuix/styles/togglebutton';
import '@primeuix/styles/toggleswitch';
import '@primeuix/styles/treeselect';
import '@primeuix/styles/buttongroup';
import '@primeuix/styles/speeddial';
import '@primeuix/styles/splitbutton';
import '@primeuix/styles/datatable';
import '@primeuix/styles/dataview';
import '@primeuix/styles/orderlist';
import '@primeuix/styles/organizationchart';
import '@primeuix/styles/paginator';
import '@primeuix/styles/picklist';
import '@primeuix/styles/tree';
import '@primeuix/styles/treetable';
import '@primeuix/styles/timeline';
import '@primeuix/styles/accordion';
import '@primeuix/styles/card';
import '@primeuix/styles/divider';
import '@primeuix/styles/fieldset';
import '@primeuix/styles/panel';
import '@primeuix/styles/scrollpanel';
import '@primeuix/styles/splitter';
import '@primeuix/styles/stepper';
import '@primeuix/styles/tabview';
import '@primeuix/styles/tabs';
import '@primeuix/styles/toolbar';
import '@primeuix/styles/confirmdialog';
import '@primeuix/styles/confirmpopup';
import '@primeuix/styles/dialog';
import '@primeuix/styles/drawer';
import '@primeuix/styles/popover';
import '@primeuix/styles/fileupload';
import '@primeuix/styles/contextmenu';
import '@primeuix/styles/dock';
import '@primeuix/styles/menu';
import '@primeuix/styles/menubar';
import '@primeuix/styles/megamenu';
import '@primeuix/styles/panelmenu';
import '@primeuix/styles/steps';
import '@primeuix/styles/tabmenu';
import '@primeuix/styles/tieredmenu';
import '@primeuix/styles/message';
import '@primeuix/styles/inlinemessage';
import '@primeuix/styles/toast';
import '@primeuix/styles/carousel';
import '@primeuix/styles/galleria';
import '@primeuix/styles/image';
import '@primeuix/styles/imagecompare';
import '@primeuix/styles/avatar';
import '@primeuix/styles/blockui';
import '@primeuix/styles/chip';
import '@primeuix/styles/inplace';
import '@primeuix/styles/metergroup';
import '@primeuix/styles/overlaybadge';
import '@primeuix/styles/scrolltop';
import '@primeuix/styles/skeleton';
import '@primeuix/styles/progressbar';
import '@primeuix/styles/progressspinner';
import '@primeuix/styles/tag';
import '@primeuix/styles/terminal';
import '@primevue/forms/form/style';
import '@primevue/forms/formfield/style';
import '@primeuix/styles/tooltip';
import '@primeuix/styles/ripple';
import '@primeuix/styled';
import 'node:fs';
import 'node:url';
import 'node:path';
import 'node:crypto';
import 'pinia';
import 'vue-router';
import 'deep-pick-omit';
import '@primeuix/styles/base';
import '@primeuix/utils/uuid';
import './index-CRHT_9ty.mjs';
import './index-DETXda9R.mjs';
import './index-BpmTSBxY.mjs';
import './index-Din928lO.mjs';
import './index-CiYUfgyP.mjs';
import './index-DURdKRTW.mjs';
import './index-D1pkXM1E.mjs';
import './index-U-lXLQJX.mjs';
import './index-C2DjyZPc.mjs';
import './index-Dlfta_8o.mjs';
import './index-BifXf4zh.mjs';
import './index-C17g6_uC.mjs';
import './index-B3Hn6n1z.mjs';
import './index-CknRS-cy.mjs';
import './index-TvJrHcS7.mjs';
import './index-sWiQMo0V.mjs';
import '../routes/renderer.mjs';
import 'vue-bundle-renderer/runtime';
import 'unhead/server';
import 'devalue';
import 'unhead/utils';

const _sfc_main$2 = {};
function _sfc_ssrRender$1(_ctx, _push, _parent, _attrs) {
  const _component_Textarea = script$4;
  _push(ssrRenderComponent(_component_Textarea, mergeProps({
    rows: "5",
    cols: "30",
    pt: {
      root: "w-full"
    }
  }, _attrs), null, _parent));
}
const _sfc_setup$2 = _sfc_main$2.setup;
_sfc_main$2.setup = (props, ctx) => {
  const ssrContext = useSSRContext();
  (ssrContext.modules || (ssrContext.modules = /* @__PURE__ */ new Set())).add("components/Input/TextArea.vue");
  return _sfc_setup$2 ? _sfc_setup$2(props, ctx) : void 0;
};
const __nuxt_component_3 = /* @__PURE__ */ Object.assign(_export_sfc(_sfc_main$2, [["ssrRender", _sfc_ssrRender$1]]), { __name: "InputTextArea" });
const _sfc_main$1 = {};
function _sfc_ssrRender(_ctx, _push, _parent, _attrs) {
  const _component_DatePicker = script$5;
  _push(ssrRenderComponent(_component_DatePicker, mergeProps({
    showIcon: "",
    showClear: "",
    iconDisplay: "input",
    pt: {
      root: "w-full"
    }
  }, _attrs), null, _parent));
}
const _sfc_setup$1 = _sfc_main$1.setup;
_sfc_main$1.setup = (props, ctx) => {
  const ssrContext = useSSRContext();
  (ssrContext.modules || (ssrContext.modules = /* @__PURE__ */ new Set())).add("components/Input/DatePicker.vue");
  return _sfc_setup$1 ? _sfc_setup$1(props, ctx) : void 0;
};
const __nuxt_component_4 = /* @__PURE__ */ Object.assign(_export_sfc(_sfc_main$1, [["ssrRender", _sfc_ssrRender]]), { __name: "InputDatePicker" });
const _sfc_main = {
  __name: "list",
  __ssrInlineRender: true,
  setup(__props) {
    useHead({
      title: `Leaves - IUGDesign`,
      meta: [{ name: "description", content: "My design project application." }]
    });
    const config = useRuntimeConfig();
    const { $apiFetch } = useNuxtApp();
    const { s, e, w } = useNotify();
    const authStore = useAuthStore();
    const isLoading = ref(false);
    const isTableLoading = ref(false);
    const isDeleteLoading = ref(false);
    const isLoadingStatusUpdate = ref(false);
    const leaveList = ref([]);
    const createLeave = ref(false);
    const isUpdatingLeave = ref(false);
    const minDate = /* @__PURE__ */ new Date();
    const chosenLeave = ref({});
    const form = ref({
      type: "",
      description: "",
      departureDate: "",
      returnDate: ""
    });
    const home = ref({
      icon: "pi pi-home"
    });
    const items = ref([{ label: "Leaves" }]);
    const returnDateInputMinVal = ref(/* @__PURE__ */ new Date());
    const modalTitle = computed(
      () => isUpdatingLeave.value ? "Edit leave request" : "Request for leave"
    );
    const statusKey = (leaveStatus) => {
      let output;
      switch (Number(leaveStatus)) {
        case 1:
          output = 1;
          break;
        case 2:
          output = 2;
          break;
        case 3:
          output = 3;
          break;
        case 4:
          output = 4;
          break;
        case 5:
          output = 5;
          break;
        default:
          output = 1;
          break;
      }
      return output;
    };
    const setReturnDateInputMinVal = () => returnDateInputMinVal.value = typeof form.value.departureDate === "string" && form.value.departureDate.trim().length === 0 ? /* @__PURE__ */ new Date() : moment(form.value.departureDate).toDate();
    const resetForm = () => {
      form.value = {
        type: "",
        description: "",
        departureDate: "",
        returnDate: ""
      };
    };
    const openingCreateLeaveModal = () => createLeave.value = true;
    const closingCreateLeaveModal = () => {
      createLeave.value = false;
      resetForm();
    };
    const changeLeaveModalTitle = () => isUpdatingLeave.value = true;
    const resetLeaveModalTitle = () => {
      chosenLeave.value = {};
      isUpdatingLeave.value = false;
    };
    const getLeaves = async () => {
      isTableLoading.value = true;
      try {
        const response = await $apiFetch(config.public.leave.list);
        console.log("leaves list: ", response);
        leaveList.value = response.data.leaves;
      } catch ({ status, data }) {
        console.log("leaves list error: ", data, status);
        switch (status) {
          case 422:
            Object.values(data.errors).map((err) => e(err[0]));
            break;
          default:
            w(data.message);
            break;
        }
      } finally {
        isTableLoading.value = false;
      }
    };
    const submit = async () => {
      let link = isUpdatingLeave.value ? config.public.leave.edit.replace(":leave", chosenLeave.value.id) : config.public.leave.store;
      isLoading.value = true;
      try {
        const response = await $apiFetch(link, {
          method: "POST",
          body: {
            type: form.value.type,
            description: form.value.description,
            departureDate: moment(form.value.departureDate).format(),
            returnDate: moment(form.value.returnDate).format()
          }
        });
        console.log("leave update: ", response);
        s(response.message);
        closingCreateLeaveModal();
        if (isUpdatingLeave.value) {
          resetLeaveModalTitle();
        }
        getLeaves();
      } catch ({ status, data }) {
        console.log("leave update error: ", status, data);
        switch (status) {
          case 422:
            Object.values(data.errors).map((err) => e(err[0]));
            break;
          default:
            w(data.message);
            break;
        }
      } finally {
        isLoading.value = false;
      }
    };
    const deleteLeave = async (leaveId) => {
      isDeleteLoading.value = true;
      try {
        const response = await $apiFetch(
          config.public.leave.delete.replace(":leave", leaveId),
          {
            method: "POST"
          }
        );
        s(response.message);
        getLeaves();
      } catch ({ status, data }) {
        console.log("leave delete error: ", status, data);
        switch (status) {
          case 422:
            Object.values(data.errors).map((err) => e(err[0]));
            break;
          default:
            w(data.message);
            break;
        }
      } finally {
        isDeleteLoading.value = false;
      }
    };
    const updateStatus = async (status, leaveId) => {
      isLoadingStatusUpdate.value = true;
      try {
        const response = await $apiFetch(
          config.public.leave.status.update.replace(":leave", leaveId),
          {
            method: "POST",
            body: {
              action: status
            }
          }
        );
        s(response.message);
        getLeaves();
      } catch ({ status: status2, data }) {
        console.log("update leave status error: ", status2, data);
        switch (status2) {
          case 422:
            Object.values(data.errors).map((err) => e(err[0]));
            break;
          default:
            w(data.message);
            break;
        }
      } finally {
        isLoadingStatusUpdate.value = false;
      }
    };
    const editLeave = (leave) => {
      form.value.type = leave.type;
      form.value.description = leave.description;
      form.value.departureDate = moment(leave.departureDate).toDate();
      form.value.returnDate = moment(leave.returnDate).toDate();
      console.log("leave: ", form.value);
      chosenLeave.value = leave;
      changeLeaveModalTitle();
      openingCreateLeaveModal();
    };
    return (_ctx, _push, _parent, _attrs) => {
      const _component_button_outline_button = __nuxt_component_0;
      const _component_nav_breadcrumb = __nuxt_component_1;
      const _component_DataTable = script;
      const _component_Column = script$1;
      const _component_Dialog = script$2;
      const _component_FloatLabel = script$3;
      const _component_input_select = __nuxt_component_2;
      const _component_input_text_area = __nuxt_component_3;
      const _component_input_date_picker = __nuxt_component_4;
      const _component_button_primary_button = _sfc_main$3;
      const _directive_tooltip = Tooltip;
      let _temp0, _temp1, _temp2, _temp3, _temp4;
      _push(`<section${ssrRenderAttrs(mergeProps({
        "aria-label": "List of user leaves",
        class: "space-y-7"
      }, _attrs))}><div class="space-y-2"><div class="flex items-center justify-between pb-3 border-b border-gray-200"><span><i class="text-emerald-500 pi pi-spinner animate-spin" style="${ssrRenderStyle([
        { "font-size": "1.2rem" },
        unref(isDeleteLoading) ? null : { display: "none" }
      ])}"></i></span>`);
      _push(ssrRenderComponent(_component_button_outline_button, {
        onClick: openingCreateLeaveModal,
        label: "Create",
        icon: "pi pi-plus",
        pt: {
          icon: {
            style: "font-size: 0.7rem"
          }
        }
      }, null, _parent));
      _push(`</div><div class="space-y-1"><h1 class="text-xl font-semibold text-gray-500">Leaves list</h1>`);
      _push(ssrRenderComponent(_component_nav_breadcrumb, {
        home: unref(home),
        model: unref(items)
      }, null, _parent));
      _push(`</div></div>`);
      _push(ssrRenderComponent(_component_DataTable, {
        value: unref(leaveList),
        paginator: "",
        rows: 10,
        rowsPerPageOptions: [20, 30, 40, 50],
        scrollable: "",
        loading: unref(isTableLoading),
        scrollHeight: "400px",
        virtualScrollerOptions: {
          itemSize: 44
        },
        tableStyle: "min-width: 50rem"
      }, {
        default: withCtx((_, _push2, _parent2, _scopeId) => {
          if (_push2) {
            _push2(ssrRenderComponent(_component_Column, {
              field: "fullName",
              header: "Name",
              style: { "width": "20%", "font-size": "0.9rem" }
            }, null, _parent2, _scopeId));
            _push2(ssrRenderComponent(_component_Column, {
              field: "type.name",
              header: "Type",
              style: { "width": "10%", "font-size": "0.9rem" }
            }, null, _parent2, _scopeId));
            _push2(ssrRenderComponent(_component_Column, {
              field: "description",
              header: "Reason for leave",
              style: { "width": "30%", "font-size": "0.9rem" }
            }, null, _parent2, _scopeId));
            _push2(ssrRenderComponent(_component_Column, {
              field: "departureDate",
              header: "Departure date",
              style: { "width": "10%", "font-size": "0.9rem" }
            }, {
              body: withCtx((slotProps, _push3, _parent3, _scopeId2) => {
                if (_push3) {
                  _push3(`${ssrInterpolate(unref(moment).parseZone(slotProps.data.departureDate).format("DD/M/yy"))}`);
                } else {
                  return [
                    createTextVNode(toDisplayString(unref(moment).parseZone(slotProps.data.departureDate).format("DD/M/yy")), 1)
                  ];
                }
              }),
              _: 1
            }, _parent2, _scopeId));
            _push2(ssrRenderComponent(_component_Column, {
              field: "returnDate",
              header: "Return date",
              style: { "width": "10%", "font-size": "0.9rem" }
            }, {
              body: withCtx((slotProps, _push3, _parent3, _scopeId2) => {
                if (_push3) {
                  _push3(`${ssrInterpolate(unref(moment).parseZone(slotProps.data.returnDate).format("DD/M/yy"))}`);
                } else {
                  return [
                    createTextVNode(toDisplayString(unref(moment).parseZone(slotProps.data.returnDate).format("DD/M/yy")), 1)
                  ];
                }
              }),
              _: 1
            }, _parent2, _scopeId));
            _push2(ssrRenderComponent(_component_Column, {
              field: "status",
              header: "Status",
              style: { "width": "10%", "font-size": "0.9rem" }
            }, {
              body: withCtx((slotProps, _push3, _parent3, _scopeId2) => {
                if (_push3) {
                  _push3(`<p class="${ssrRenderClass([
                    "py-1 px-3 text-xs text-white rounded-sm",
                    { "bg-orange-400": slotProps.data.status.color === "orange" },
                    { "bg-sky-400": slotProps.data.status.color === "sky" },
                    { "bg-blue-400": slotProps.data.status.color === "blue" },
                    { "bg-emerald-400": slotProps.data.status.color === "green" },
                    { "bg-amber-400": slotProps.data.status.color === "yellow" },
                    { "bg-fuchsia-400": slotProps.data.status.color === "violet" },
                    { "bg-red-400": slotProps.data.status.color === "red" }
                  ])}"${_scopeId2}>${ssrInterpolate(slotProps.data.status.label)}</p>`);
                } else {
                  return [
                    createVNode("p", {
                      class: [
                        "py-1 px-3 text-xs text-white rounded-sm",
                        { "bg-orange-400": slotProps.data.status.color === "orange" },
                        { "bg-sky-400": slotProps.data.status.color === "sky" },
                        { "bg-blue-400": slotProps.data.status.color === "blue" },
                        { "bg-emerald-400": slotProps.data.status.color === "green" },
                        { "bg-amber-400": slotProps.data.status.color === "yellow" },
                        { "bg-fuchsia-400": slotProps.data.status.color === "violet" },
                        { "bg-red-400": slotProps.data.status.color === "red" }
                      ]
                    }, toDisplayString(slotProps.data.status.label), 3)
                  ];
                }
              }),
              _: 1
            }, _parent2, _scopeId));
            _push2(ssrRenderComponent(_component_Column, {
              header: "Actions",
              style: { "width": "10%", "font-size": "0.9rem" }
            }, {
              body: withCtx((slotProps, _push3, _parent3, _scopeId2) => {
                if (_push3) {
                  _push3(`<span class="space-x-1.5"${_scopeId2}><p class="relative inline-flex items-center justify-center"${_scopeId2}>`);
                  if (slotProps.data.status.level === 1) {
                    _push3(`<i${ssrRenderAttrs(_temp0 = mergeProps({ class: "pi pi-send cursor-pointer hover:text-blue-500 z-50" }, ssrGetDirectiveProps(_ctx, _directive_tooltip, "Send", void 0, { top: true })))}${_scopeId2}>${"textContent" in _temp0 ? ssrInterpolate(_temp0.textContent) : _temp0.innerHTML ?? ""}</i>`);
                  } else {
                    _push3(`<!---->`);
                  }
                  if (slotProps.data.status.level === 2) {
                    _push3(`<i${ssrRenderAttrs(_temp1 = mergeProps({ class: "pi pi-check-square cursor-pointer hover:text-blue-500 z-50" }, ssrGetDirectiveProps(_ctx, _directive_tooltip, "Approve", void 0, { top: true })))}${_scopeId2}>${"textContent" in _temp1 ? ssrInterpolate(_temp1.textContent) : _temp1.innerHTML ?? ""}</i>`);
                  } else {
                    _push3(`<!---->`);
                  }
                  if (slotProps.data.status.level === 3) {
                    _push3(`<i${ssrRenderAttrs(_temp2 = mergeProps({ class: "pi pi-check-square cursor-pointer hover:text-blue-500 z-50" }, ssrGetDirectiveProps(_ctx, _directive_tooltip, "Approve", void 0, { top: true })))}${_scopeId2}>${"textContent" in _temp2 ? ssrInterpolate(_temp2.textContent) : _temp2.innerHTML ?? ""}</i>`);
                  } else {
                    _push3(`<!---->`);
                  }
                  if (unref(isLoadingStatusUpdate)) {
                    _push3(`<i class="pi pi-spinner absolute animate-spin text-emerald-500" style="${ssrRenderStyle({ "font-size": "1.7rem" })}"${_scopeId2}></i>`);
                  } else {
                    _push3(`<!---->`);
                  }
                  _push3(`</p><i${ssrRenderAttrs(_temp3 = mergeProps({ class: "cursor-pointer pi pi-pen-to-square hover:text-emerald-500" }, ssrGetDirectiveProps(_ctx, _directive_tooltip, "Edit", void 0, { top: true })))}${_scopeId2}>${"textContent" in _temp3 ? ssrInterpolate(_temp3.textContent) : _temp3.innerHTML ?? ""}</i><p class="relative inline-flex items-center justify-center"${_scopeId2}><i${ssrRenderAttrs(_temp4 = mergeProps({ class: "z-50 cursor-pointer pi pi-trash hover:text-red-500" }, ssrGetDirectiveProps(_ctx, _directive_tooltip, "Delete", void 0, { top: true })))}${_scopeId2}>${"textContent" in _temp4 ? ssrInterpolate(_temp4.textContent) : _temp4.innerHTML ?? ""}</i>`);
                  if (unref(isDeleteLoading)) {
                    _push3(`<i class="pi pi-spinner absolute animate-spin text-red-400 translate-x-[0.03rem]" style="${ssrRenderStyle({ "font-size": "1.7rem" })}"${_scopeId2}></i>`);
                  } else {
                    _push3(`<!---->`);
                  }
                  _push3(`</p></span>`);
                } else {
                  return [
                    createVNode("span", { class: "space-x-1.5" }, [
                      createVNode("p", { class: "relative inline-flex items-center justify-center" }, [
                        slotProps.data.status.level === 1 ? withDirectives((openBlock(), createBlock("i", {
                          key: 0,
                          onClick: withModifiers(($event) => updateStatus(
                            statusKey(slotProps.data.status.level),
                            slotProps.data.id
                          ), ["prevent"]),
                          class: "pi pi-send cursor-pointer hover:text-blue-500 z-50"
                        }, null, 8, ["onClick"])), [
                          [
                            _directive_tooltip,
                            "Send",
                            void 0,
                            { top: true }
                          ]
                        ]) : createCommentVNode("", true),
                        slotProps.data.status.level === 2 ? withDirectives((openBlock(), createBlock("i", {
                          key: 1,
                          onClick: withModifiers(($event) => updateStatus(
                            statusKey(slotProps.data.status.level),
                            slotProps.data.id
                          ), ["prevent"]),
                          class: "pi pi-check-square cursor-pointer hover:text-blue-500 z-50"
                        }, null, 8, ["onClick"])), [
                          [
                            _directive_tooltip,
                            "Approve",
                            void 0,
                            { top: true }
                          ]
                        ]) : createCommentVNode("", true),
                        slotProps.data.status.level === 3 ? withDirectives((openBlock(), createBlock("i", {
                          key: 2,
                          onClick: withModifiers(($event) => updateStatus(
                            statusKey(slotProps.data.status.level),
                            slotProps.data.id
                          ), ["prevent"]),
                          class: "pi pi-check-square cursor-pointer hover:text-blue-500 z-50"
                        }, null, 8, ["onClick"])), [
                          [
                            _directive_tooltip,
                            "Approve",
                            void 0,
                            { top: true }
                          ]
                        ]) : createCommentVNode("", true),
                        unref(isLoadingStatusUpdate) ? (openBlock(), createBlock("i", {
                          key: 3,
                          class: "pi pi-spinner absolute animate-spin text-emerald-500",
                          style: { "font-size": "1.7rem" }
                        })) : createCommentVNode("", true)
                      ]),
                      withDirectives(createVNode("i", {
                        onClick: withModifiers(($event) => editLeave(slotProps.data), ["prevent"]),
                        class: "cursor-pointer pi pi-pen-to-square hover:text-emerald-500"
                      }, null, 8, ["onClick"]), [
                        [
                          _directive_tooltip,
                          "Edit",
                          void 0,
                          { top: true }
                        ]
                      ]),
                      createVNode("p", { class: "relative inline-flex items-center justify-center" }, [
                        withDirectives(createVNode("i", {
                          onClick: withModifiers(($event) => deleteLeave(slotProps.data.id), ["prevent"]),
                          class: "z-50 cursor-pointer pi pi-trash hover:text-red-500"
                        }, null, 8, ["onClick"]), [
                          [
                            _directive_tooltip,
                            "Delete",
                            void 0,
                            { top: true }
                          ]
                        ]),
                        unref(isDeleteLoading) ? (openBlock(), createBlock("i", {
                          key: 0,
                          class: "pi pi-spinner absolute animate-spin text-red-400 translate-x-[0.03rem]",
                          style: { "font-size": "1.7rem" }
                        })) : createCommentVNode("", true)
                      ])
                    ])
                  ];
                }
              }),
              _: 1
            }, _parent2, _scopeId));
          } else {
            return [
              createVNode(_component_Column, {
                field: "fullName",
                header: "Name",
                style: { "width": "20%", "font-size": "0.9rem" }
              }),
              createVNode(_component_Column, {
                field: "type.name",
                header: "Type",
                style: { "width": "10%", "font-size": "0.9rem" }
              }),
              createVNode(_component_Column, {
                field: "description",
                header: "Reason for leave",
                style: { "width": "30%", "font-size": "0.9rem" }
              }),
              createVNode(_component_Column, {
                field: "departureDate",
                header: "Departure date",
                style: { "width": "10%", "font-size": "0.9rem" }
              }, {
                body: withCtx((slotProps) => [
                  createTextVNode(toDisplayString(unref(moment).parseZone(slotProps.data.departureDate).format("DD/M/yy")), 1)
                ]),
                _: 1
              }),
              createVNode(_component_Column, {
                field: "returnDate",
                header: "Return date",
                style: { "width": "10%", "font-size": "0.9rem" }
              }, {
                body: withCtx((slotProps) => [
                  createTextVNode(toDisplayString(unref(moment).parseZone(slotProps.data.returnDate).format("DD/M/yy")), 1)
                ]),
                _: 1
              }),
              createVNode(_component_Column, {
                field: "status",
                header: "Status",
                style: { "width": "10%", "font-size": "0.9rem" }
              }, {
                body: withCtx((slotProps) => [
                  createVNode("p", {
                    class: [
                      "py-1 px-3 text-xs text-white rounded-sm",
                      { "bg-orange-400": slotProps.data.status.color === "orange" },
                      { "bg-sky-400": slotProps.data.status.color === "sky" },
                      { "bg-blue-400": slotProps.data.status.color === "blue" },
                      { "bg-emerald-400": slotProps.data.status.color === "green" },
                      { "bg-amber-400": slotProps.data.status.color === "yellow" },
                      { "bg-fuchsia-400": slotProps.data.status.color === "violet" },
                      { "bg-red-400": slotProps.data.status.color === "red" }
                    ]
                  }, toDisplayString(slotProps.data.status.label), 3)
                ]),
                _: 1
              }),
              createVNode(_component_Column, {
                header: "Actions",
                style: { "width": "10%", "font-size": "0.9rem" }
              }, {
                body: withCtx((slotProps) => [
                  createVNode("span", { class: "space-x-1.5" }, [
                    createVNode("p", { class: "relative inline-flex items-center justify-center" }, [
                      slotProps.data.status.level === 1 ? withDirectives((openBlock(), createBlock("i", {
                        key: 0,
                        onClick: withModifiers(($event) => updateStatus(
                          statusKey(slotProps.data.status.level),
                          slotProps.data.id
                        ), ["prevent"]),
                        class: "pi pi-send cursor-pointer hover:text-blue-500 z-50"
                      }, null, 8, ["onClick"])), [
                        [
                          _directive_tooltip,
                          "Send",
                          void 0,
                          { top: true }
                        ]
                      ]) : createCommentVNode("", true),
                      slotProps.data.status.level === 2 ? withDirectives((openBlock(), createBlock("i", {
                        key: 1,
                        onClick: withModifiers(($event) => updateStatus(
                          statusKey(slotProps.data.status.level),
                          slotProps.data.id
                        ), ["prevent"]),
                        class: "pi pi-check-square cursor-pointer hover:text-blue-500 z-50"
                      }, null, 8, ["onClick"])), [
                        [
                          _directive_tooltip,
                          "Approve",
                          void 0,
                          { top: true }
                        ]
                      ]) : createCommentVNode("", true),
                      slotProps.data.status.level === 3 ? withDirectives((openBlock(), createBlock("i", {
                        key: 2,
                        onClick: withModifiers(($event) => updateStatus(
                          statusKey(slotProps.data.status.level),
                          slotProps.data.id
                        ), ["prevent"]),
                        class: "pi pi-check-square cursor-pointer hover:text-blue-500 z-50"
                      }, null, 8, ["onClick"])), [
                        [
                          _directive_tooltip,
                          "Approve",
                          void 0,
                          { top: true }
                        ]
                      ]) : createCommentVNode("", true),
                      unref(isLoadingStatusUpdate) ? (openBlock(), createBlock("i", {
                        key: 3,
                        class: "pi pi-spinner absolute animate-spin text-emerald-500",
                        style: { "font-size": "1.7rem" }
                      })) : createCommentVNode("", true)
                    ]),
                    withDirectives(createVNode("i", {
                      onClick: withModifiers(($event) => editLeave(slotProps.data), ["prevent"]),
                      class: "cursor-pointer pi pi-pen-to-square hover:text-emerald-500"
                    }, null, 8, ["onClick"]), [
                      [
                        _directive_tooltip,
                        "Edit",
                        void 0,
                        { top: true }
                      ]
                    ]),
                    createVNode("p", { class: "relative inline-flex items-center justify-center" }, [
                      withDirectives(createVNode("i", {
                        onClick: withModifiers(($event) => deleteLeave(slotProps.data.id), ["prevent"]),
                        class: "z-50 cursor-pointer pi pi-trash hover:text-red-500"
                      }, null, 8, ["onClick"]), [
                        [
                          _directive_tooltip,
                          "Delete",
                          void 0,
                          { top: true }
                        ]
                      ]),
                      unref(isDeleteLoading) ? (openBlock(), createBlock("i", {
                        key: 0,
                        class: "pi pi-spinner absolute animate-spin text-red-400 translate-x-[0.03rem]",
                        style: { "font-size": "1.7rem" }
                      })) : createCommentVNode("", true)
                    ])
                  ])
                ]),
                _: 1
              })
            ];
          }
        }),
        _: 1
      }, _parent));
      _push(ssrRenderComponent(_component_Dialog, {
        visible: unref(createLeave),
        "onUpdate:visible": ($event) => isRef(createLeave) ? createLeave.value = $event : null,
        modal: "",
        header: unref(modalTitle)
      }, {
        default: withCtx((_, _push2, _parent2, _scopeId) => {
          if (_push2) {
            _push2(`<form class="px-3 mt-7 space-y-3 xs:w-96"${_scopeId}>`);
            _push2(ssrRenderComponent(_component_FloatLabel, { variant: "on" }, {
              default: withCtx((_2, _push3, _parent3, _scopeId2) => {
                if (_push3) {
                  _push3(ssrRenderComponent(_component_input_select, {
                    modelValue: unref(form).type,
                    "onUpdate:modelValue": ($event) => unref(form).type = $event,
                    options: unref(authStore).authUser.settings.leaveTypes,
                    optionLabel: "name",
                    labelId: "types"
                  }, null, _parent3, _scopeId2));
                  _push3(`<label for="position"${_scopeId2}> Type of leave </label>`);
                } else {
                  return [
                    createVNode(_component_input_select, {
                      modelValue: unref(form).type,
                      "onUpdate:modelValue": ($event) => unref(form).type = $event,
                      options: unref(authStore).authUser.settings.leaveTypes,
                      optionLabel: "name",
                      labelId: "types"
                    }, null, 8, ["modelValue", "onUpdate:modelValue", "options"]),
                    createVNode("label", { for: "position" }, " Type of leave ")
                  ];
                }
              }),
              _: 1
            }, _parent2, _scopeId));
            _push2(ssrRenderComponent(_component_FloatLabel, { variant: "on" }, {
              default: withCtx((_2, _push3, _parent3, _scopeId2) => {
                if (_push3) {
                  _push3(ssrRenderComponent(_component_input_text_area, {
                    id: "description",
                    modelValue: unref(form).description,
                    "onUpdate:modelValue": ($event) => unref(form).description = $event,
                    autocomplete: "off"
                  }, null, _parent3, _scopeId2));
                  _push3(`<label for="firstName"${_scopeId2}> Reason </label>`);
                } else {
                  return [
                    createVNode(_component_input_text_area, {
                      id: "description",
                      modelValue: unref(form).description,
                      "onUpdate:modelValue": ($event) => unref(form).description = $event,
                      autocomplete: "off"
                    }, null, 8, ["modelValue", "onUpdate:modelValue"]),
                    createVNode("label", { for: "firstName" }, " Reason ")
                  ];
                }
              }),
              _: 1
            }, _parent2, _scopeId));
            _push2(ssrRenderComponent(_component_FloatLabel, { variant: "on" }, {
              default: withCtx((_2, _push3, _parent3, _scopeId2) => {
                if (_push3) {
                  _push3(ssrRenderComponent(_component_input_date_picker, {
                    modelValue: unref(form).departureDate,
                    "onUpdate:modelValue": [($event) => unref(form).departureDate = $event, setReturnDateInputMinVal],
                    inputId: "departureDate",
                    dateFormat: "dd/mm/yy",
                    minDate: unref(minDate)
                  }, null, _parent3, _scopeId2));
                  _push3(`<label for="departureDate"${_scopeId2}> Date of departure </label>`);
                } else {
                  return [
                    createVNode(_component_input_date_picker, {
                      modelValue: unref(form).departureDate,
                      "onUpdate:modelValue": [($event) => unref(form).departureDate = $event, setReturnDateInputMinVal],
                      inputId: "departureDate",
                      dateFormat: "dd/mm/yy",
                      minDate: unref(minDate)
                    }, null, 8, ["modelValue", "onUpdate:modelValue", "minDate"]),
                    createVNode("label", { for: "departureDate" }, " Date of departure ")
                  ];
                }
              }),
              _: 1
            }, _parent2, _scopeId));
            _push2(ssrRenderComponent(_component_FloatLabel, { variant: "on" }, {
              default: withCtx((_2, _push3, _parent3, _scopeId2) => {
                if (_push3) {
                  _push3(ssrRenderComponent(_component_input_date_picker, {
                    modelValue: unref(form).returnDate,
                    "onUpdate:modelValue": ($event) => unref(form).returnDate = $event,
                    inputId: "returnDate",
                    dateFormat: "dd/mm/yy",
                    minDate: unref(returnDateInputMinVal)
                  }, null, _parent3, _scopeId2));
                  _push3(`<label for="returnDate"${_scopeId2}> Date of return </label>`);
                } else {
                  return [
                    createVNode(_component_input_date_picker, {
                      modelValue: unref(form).returnDate,
                      "onUpdate:modelValue": ($event) => unref(form).returnDate = $event,
                      inputId: "returnDate",
                      dateFormat: "dd/mm/yy",
                      minDate: unref(returnDateInputMinVal)
                    }, null, 8, ["modelValue", "onUpdate:modelValue", "minDate"]),
                    createVNode("label", { for: "returnDate" }, " Date of return ")
                  ];
                }
              }),
              _: 1
            }, _parent2, _scopeId));
            _push2(ssrRenderComponent(_component_button_primary_button, {
              type: "submit",
              label: "Submit",
              iconPos: "right",
              loading: unref(isLoading)
            }, null, _parent2, _scopeId));
            _push2(`</form>`);
          } else {
            return [
              createVNode("form", {
                onSubmit: withModifiers(submit, ["prevent"]),
                class: "px-3 mt-7 space-y-3 xs:w-96"
              }, [
                createVNode(_component_FloatLabel, { variant: "on" }, {
                  default: withCtx(() => [
                    createVNode(_component_input_select, {
                      modelValue: unref(form).type,
                      "onUpdate:modelValue": ($event) => unref(form).type = $event,
                      options: unref(authStore).authUser.settings.leaveTypes,
                      optionLabel: "name",
                      labelId: "types"
                    }, null, 8, ["modelValue", "onUpdate:modelValue", "options"]),
                    createVNode("label", { for: "position" }, " Type of leave ")
                  ]),
                  _: 1
                }),
                createVNode(_component_FloatLabel, { variant: "on" }, {
                  default: withCtx(() => [
                    createVNode(_component_input_text_area, {
                      id: "description",
                      modelValue: unref(form).description,
                      "onUpdate:modelValue": ($event) => unref(form).description = $event,
                      autocomplete: "off"
                    }, null, 8, ["modelValue", "onUpdate:modelValue"]),
                    createVNode("label", { for: "firstName" }, " Reason ")
                  ]),
                  _: 1
                }),
                createVNode(_component_FloatLabel, { variant: "on" }, {
                  default: withCtx(() => [
                    createVNode(_component_input_date_picker, {
                      modelValue: unref(form).departureDate,
                      "onUpdate:modelValue": [($event) => unref(form).departureDate = $event, setReturnDateInputMinVal],
                      inputId: "departureDate",
                      dateFormat: "dd/mm/yy",
                      minDate: unref(minDate)
                    }, null, 8, ["modelValue", "onUpdate:modelValue", "minDate"]),
                    createVNode("label", { for: "departureDate" }, " Date of departure ")
                  ]),
                  _: 1
                }),
                createVNode(_component_FloatLabel, { variant: "on" }, {
                  default: withCtx(() => [
                    createVNode(_component_input_date_picker, {
                      modelValue: unref(form).returnDate,
                      "onUpdate:modelValue": ($event) => unref(form).returnDate = $event,
                      inputId: "returnDate",
                      dateFormat: "dd/mm/yy",
                      minDate: unref(returnDateInputMinVal)
                    }, null, 8, ["modelValue", "onUpdate:modelValue", "minDate"]),
                    createVNode("label", { for: "returnDate" }, " Date of return ")
                  ]),
                  _: 1
                }),
                createVNode(_component_button_primary_button, {
                  type: "submit",
                  label: "Submit",
                  iconPos: "right",
                  loading: unref(isLoading)
                }, null, 8, ["loading"])
              ], 32)
            ];
          }
        }),
        _: 1
      }, _parent));
      _push(`</section>`);
    };
  }
};
const _sfc_setup = _sfc_main.setup;
_sfc_main.setup = (props, ctx) => {
  const ssrContext = useSSRContext();
  (ssrContext.modules || (ssrContext.modules = /* @__PURE__ */ new Set())).add("pages/leaves/list.vue");
  return _sfc_setup ? _sfc_setup(props, ctx) : void 0;
};

export { _sfc_main as default };
//# sourceMappingURL=list-yWUVKRxI.mjs.map
